(this["webpackJsonpsimple-budget-react"]=this["webpackJsonpsimple-budget-react"]||[]).push([[0],{115:function(e,t,a){e.exports=a(219)},120:function(e,t,a){},121:function(e,t,a){},219:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(107),l=a.n(o),s=(a(120),a(121),a(12)),i=a(33),u=a(2),m=function(e,t){switch(t.type){case"ADD_TRANSACTION":return Object(u.a)(Object(u.a)({},e),{},{transactions:[].concat(Object(i.a)(e.transactions),[t.payload])});case"TO_DELETE":return Object(u.a)(Object(u.a)({},e),{},{transactions:Object(i.a)(t.payload)});case"IS_MODAL_OPEN":return Object(u.a)(Object(u.a)({},e),{},{isModalOpen:!e.isModalOpen});case"DELETE_TRANSACTIONS":return Object(u.a)(Object(u.a)({},e),{},{transactions:Object(i.a)(t.payload)});case"UPDATE_INCOME_SUB_CATEGORIES_TOTAL":return Object(u.a)(Object(u.a)({},e),{},{incomeSubCategories:Object(u.a)({},t.payload)});case"UPDATE_EXPENSE_SUB_CATEGORIES_TOTAL":return Object(u.a)(Object(u.a)({},e),{},{expenseSubCategories:Object(u.a)({},t.payload)});case"TOTAL_INCOME_EXPENSES":return Object(u.a)(Object(u.a)({},e),{},{totalIncome:t.payload.totalIncome,totalExpenses:t.payload.totalExpenses});default:return e}};n=localStorage.getItem("transactions")?JSON.parse(localStorage.getItem("transactions")):[];var d={transactions:Object(i.a)(n),totalIncome:0,totalExpenses:0,isModalOpen:!1,incomeSubCategories:{Salary:0,Others:0},expenseSubCategories:{Food:0,Shopping:0,Grocery:0,Others:0}},E=Object(r.createContext)(d),p=function(e){var t=e.children,a=Object(r.useReducer)(m,d),n=Object(s.a)(a,2),o=n[0],l=n[1];return Object(r.useEffect)((function(){var e=localStorage.getItem("transactions");e&&(d.transactions=JSON.parse(e))}),[]),Object(r.useEffect)((function(){localStorage.setItem("transactions",JSON.stringify(o.transactions))})),c.a.createElement(E.Provider,{value:{transactions:o.transactions,isModalOpen:o.isModalOpen,incomeSubCategories:o.incomeSubCategories,expenseSubCategories:o.expenseSubCategories,totalExpenses:o.totalExpenses,totalIncome:o.totalIncome,updateTotalIncomeExpenses:function(e){l({type:"TOTAL_INCOME_EXPENSES",payload:e})},updateExpenseSubCategoriesTotal:function(e){l({type:"UPDATE_EXPENSE_SUB_CATEGORIES_TOTAL",payload:e})},toggleModal:function(){l({type:"IS_MODAL_OPEN"})},addTransaction:function(e){l({type:"ADD_TRANSACTION",payload:e})},deleteTransaction:function(e){l({type:"DELETE_TRANSACTIONS",payload:e})},selectedForDeletion:function(e){l({type:"TO_DELETE",payload:e})},updateIncomeSubCategoriesTotal:function(e){l({type:"UPDATE_INCOME_SUB_CATEGORIES_TOTAL",payload:e})}}},t)},b=function(e,t){switch(t.type){case"NEW_USER":return Object(u.a)(Object(u.a)({},e),{},{users:[].concat(Object(i.a)(e.users),[t.payload])});case"VALIDATE_USER":case"USER_LOGGED_OUT":return Object(u.a)(Object(u.a)({},e),{},{isAuthenticated:t.payload});default:return e}},g={users:[{name:"test",email:"a@a.com",password:"pass",confirmPassword:"pass"}],isAuthenticated:!1},f=Object(r.createContext)(g),O=function(e){var t=e.children,a=Object(r.useReducer)(b,g),n=Object(s.a)(a,2),o=n[0],l=n[1];return c.a.createElement(f.Provider,{value:{users:o.users,isAuthenticated:o.isAuthenticated,addUser:function(e){l({type:"NEW_USER",payload:e})},validateUser:function(e){l({type:"VALIDATE_USER",payload:e})},userLoggedOut:function(e){l({type:"USER_LOGGED_OUT",payload:e})}}},t)},y=a(86),v=a(4),C=a(113),h=a(74),S=function(e){var t=Object(r.useContext)(f),a=t.users,n=t.isAuthenticated,o=t.validateUser;return localStorage.setItem("isAuthenticated",n),c.a.createElement("div",{className:"signin_signup_form"},c.a.createElement("h1",null,"Sign In"),c.a.createElement(C.a,{initialValues:{email:"",password:""},onSubmit:function(t,n){a.forEach((function(a){t.email===a.email&&t.password===a.password?(o(!0),e.history.push("/simple-budget-react/dashboard/")):(o(!1),alert("Please enter valid credentials"))}))},validationSchema:h.a().shape({email:h.b().email().required("Email id is Required"),password:h.b().required("Please enter your password")})},(function(e){var t=e.values,a=e.touched,n=e.errors,r=e.handleChange,o=e.handleBlur,l=e.handleSubmit;return c.a.createElement("form",{onSubmit:l},c.a.createElement("div",{className:"form-control"},c.a.createElement("input",{name:"email",type:"email",placeholder:"Email",value:t.email,onChange:r,onBlur:o,className:n.email&&a.email&&"error"}),n.email&&a.email&&c.a.createElement("small",null,n.email)),c.a.createElement("div",{className:"form-control"},c.a.createElement("input",{name:"password",type:"password",placeholder:"Password",value:t.password,onChange:r,onBlur:o,className:n.password&&a.password&&"error"}),n.password&&a.password&&c.a.createElement("small",null,n.password)),c.a.createElement("button",{type:"submit"},"Sign In"))})))},j=function(){var e=Object(r.useContext)(E),t=e.totalIncome-e.totalExpenses;return c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},c.a.createElement("h3",{style:{marginLeft:"15px",color:"white"}},"Your Balance"),c.a.createElement("p",{style:{color:"white",fontSize:"2em"}},t))},N=function(){var e=Object(r.useContext)(E),t=e.transactions,a=e.incomeSubCategories,n=e.updateIncomeSubCategoriesTotal,o=e.totalIncome,l=Object(u.a)({},a),s=Object.keys(l),i=t.filter((function(e){return"income"===e.category.toLowerCase().trim()}));return s.forEach((function(e){var t=i.filter((function(t){return t.subCategory.toLowerCase().trim()===e.toLowerCase().trim()}));t.length>0?l[e]=t.reduce((function(e,t){return e+t.amount}),0):l[e]=0})),Object(r.useEffect)((function(){n(l)}),[t]),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"heading"},c.a.createElement("h5",null,"INCOME"),c.a.createElement("p",{style:{color:"#3fb485"}},"INR ",o)),c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"content-heading"},c.a.createElement("p",null,"Category"),c.a.createElement("p",null,"Amount")),c.a.createElement("ul",null,c.a.createElement("li",null,"Salary ",c.a.createElement("span",{className:"amount"},a.Salary)),c.a.createElement("li",null,"Others ",c.a.createElement("span",{className:"amount"},a.Others)))))},x=function(){var e=Object(r.useContext)(E),t=e.transactions,a=e.expenseSubCategories,n=e.totalExpenses,o=e.updateExpenseSubCategoriesTotal,l=Object(u.a)({},a),s=Object.keys(l),i=t.filter((function(e){return"expense"===e.category.toLowerCase().trim()}));return s.forEach((function(e){var t=i.filter((function(t){return t.subCategory.toLowerCase().trim()===e.toLowerCase().trim()}));t.length>0?l[e]=t.reduce((function(e,t){return e+t.amount}),0):l[e]=0})),Object(r.useEffect)((function(){o(l)}),[t]),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"heading"},c.a.createElement("h5",null,"EXPENSE"),c.a.createElement("p",{style:{color:"#f84e4e"}},"INR ",n)),c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"content-heading"},c.a.createElement("p",null,"Category"),c.a.createElement("p",null,"Amount")),c.a.createElement("ul",null,c.a.createElement("li",null,"Food ",c.a.createElement("span",{className:"amount"},a.Food)),c.a.createElement("li",null,"Shopping"," ",c.a.createElement("span",{className:"amount"},a.Shopping)),c.a.createElement("li",null,"Grocery"," ",c.a.createElement("span",{className:"amount"},a.Grocery)),c.a.createElement("li",null,"Others ",c.a.createElement("span",{className:"amount"},a.Others)))))},T=function(e){var t=e.category,a=e.subCategory,n=e.updateSubCategory,o=Object(r.useContext)(E),l=o.incomeSubCategories,s=o.expenseSubCategories,i=null;return i="income"===t.toLowerCase().trim()?Object.keys(l).map((function(e,t){return c.a.createElement("option",{key:e+t,value:e},e)})):Object.keys(s).map((function(e,t){return c.a.createElement("option",{key:e+t,value:e},e)})),c.a.createElement("select",{value:a,onChange:n,name:"category",id:"sub-category"},i)},I=function(e){var t=e.toggleTransactionModal,a=new Date,n=a.getDay(),o=a.getMonth()+1,l=a.getFullYear();n<10&&(n="0".concat(n)),o<10&&(o="0".concat(o));var i="".concat(l,":").concat(o,":").concat(n),u=Object(r.useState)(""),m=Object(s.a)(u,2),d=m[0],p=m[1],b=Object(r.useState)(0),g=Object(s.a)(b,2),f=g[0],O=g[1],y=Object(r.useState)(i),v=Object(s.a)(y,2),C=v[0],h=v[1],S=Object(r.useState)("Income"),j=Object(s.a)(S,2),N=j[0],x=j[1],I=Object(r.useState)("Salary"),A=Object(s.a)(I,2),_=A[0],w=A[1],D=Object(r.useContext)(E),L=D.addTransaction,M=D.expenseSubCategories,R=c.a.createElement(T,{category:N,subCategory:_,updateSubCategory:function(e){w(e.target.value)}});return c.a.createElement("div",{className:"card add-transaction-container"},c.a.createElement("div",{className:"overlay"}),c.a.createElement("div",{className:"add-transaction-card"},c.a.createElement("div",{className:"heading"},c.a.createElement("h4",{style:{margin:"0"}},"Add a new Transaction"),c.a.createElement("div",{className:"close-btn",onClick:function(){t()}},"X")),c.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),f<=0)alert("Please enter a valid amount");else{var a={id:Math.floor(100002*Math.random()),date:C,amount:+f,description:d,category:N,subCategory:_,toDelete:!1};L(a),t()}}},c.a.createElement("input",{value:d,onChange:function(e){p(e.target.value)},type:"text",name:"description",id:"description",placeholder:"Description",required:!0}),c.a.createElement("input",{value:f,onChange:function(e){O(e.target.value)},type:"number",name:"amount",id:"amount",required:!0}),c.a.createElement("input",{value:C,onChange:function(e){h(e.target.value)},type:"date",id:"date",required:!0}),c.a.createElement("div",{className:"category"},c.a.createElement("select",{onChange:function(e){x(e.target.value),"expense"===e.target.value.toLowerCase().trim()&&w(Object.keys(M)[0])},name:"category",id:"category"},c.a.createElement("option",{value:"Income"},"Income"),c.a.createElement("option",{value:"Expense"},"Expense"))),c.a.createElement("div",{className:"sub-category"},R),c.a.createElement("button",{type:"submit"},"Submit"))))},A=function(e){var t=e.transactionToDelete,a=Object(r.useContext)(E),n=a.transactions,o=a.deleteTransaction,l=a.toggleModal;return c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"overlay"}),c.a.createElement("div",{className:"modal-box"},c.a.createElement("p",null,"Are you sure?"),c.a.createElement("div",{className:"modal-box_buttons"},c.a.createElement("button",{onClick:function(){if(t.toDelete){var e=n.filter((function(e){return e.toDelete!==t.toDelete}));o(e),l()}}},"Yes"),c.a.createElement("button",{onClick:function(){l(),t.toDelete=!1},className:"danger"},"Cancel"))))},_=function(e){var t=e.transaction,a=Object(r.useContext)(E),n=a.transactions,o=a.selectedForDeletion,l=a.isModalOpen,s=a.toggleModal,i=null,u=n;return l&&n.forEach((function(e){e.toDelete&&(i=c.a.createElement(A,{transactionToDelete:e}))})),c.a.createElement(c.a.Fragment,null,c.a.createElement("tr",{onDoubleClick:function(e){u.forEach((function(t){e.id===t.id&&(t.toDelete=!0)})),o(u),s()}.bind(void 0,t)},c.a.createElement("td",{className:"date"},t.date),c.a.createElement("td",{className:"amount"},t.amount),c.a.createElement("td",{className:"description"},t.description),c.a.createElement("td",{className:"sub-category"},t.subCategory)),i)},w=function(){var e=Object(r.useContext)(E).transactions,t=Object(r.useState)(!1),a=Object(s.a)(t,2),n=a[0],o=a[1],l=Object(r.useState)("expense"),i=Object(s.a)(l,2),u=i[0],m=i[1],d=null,p=function(){o(!n)};n&&(d=c.a.createElement(I,{toggleTransactionModal:p}));var b=c.a.createElement("tr",null,c.a.createElement("td",{style:{textAlign:"center"},colSpan:"4"},"No transactions to display"));if(e.length>0){var g=e.filter((function(e){return"expense"===e.category.toLowerCase().trim()})),f=e.filter((function(e){return"income"===e.category.toLowerCase().trim()}));"expense"===u.toLowerCase().trim()?g.length>0&&(b=g.map((function(e){return c.a.createElement(_,{transaction:e,key:e.id})}))):f.length>0&&(b=f.map((function(e){return c.a.createElement(_,{transaction:e,key:e.id})})))}return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"transaction-summary"},c.a.createElement("div",{className:"heading"},c.a.createElement("h5",null,"TRANSACTIONS"),c.a.createElement("div",{className:"transaction-actions"},c.a.createElement("button",{className:"add-transaction-btn",onClick:p},"Add Transaction"),c.a.createElement("select",{name:"transaction-summary-category",id:"transaction-summary-category-dropdown",value:u,onChange:function(e){m(e.target.value)}},c.a.createElement("option",{value:"expense"},"Expense"),c.a.createElement("option",{value:"income"},"Income")))),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Date"),c.a.createElement("th",{style:{textAlign:"right"}},"Amount"),c.a.createElement("th",null,"Description"),c.a.createElement("th",null,"Category"))),c.a.createElement("tbody",null,b))),d)},D=a(111),L=function(){var e=Object(r.useContext)(E),t={labels:["Income","Expenses"],datasets:[{data:[e.totalIncome,e.totalExpenses],backgroundColor:["darkseagreen","#e4615a"],borderColor:"transparent"}]};return c.a.createElement("div",{className:"chart"},c.a.createElement(D.a,{data:t,options:{cutoutPercentage:80,animation:{animateScale:!0}}}))},M=function(e){var t=Object(r.useContext)(f).userLoggedOut;return c.a.createElement("button",{onClick:function(){t(!1),e.history.push("/simple-budget-react/")},className:"logout-btn"},"Logout")},R=function(e){var t=Object(r.useContext)(E),a=t.transactions,n=t.updateTotalIncomeExpenses,o=t.totalIncome,l=t.totalExpenses;Object(r.useEffect)((function(){!function(){var e=a.filter((function(e){return"income"===e.category.toLowerCase()})).reduce((function(e,t){return e+t.amount}),0),t=a.filter((function(e){return"expense"===e.category.toLowerCase()})).reduce((function(e,t){return e+t.amount}),0);n({totalIncome:e,totalExpenses:t})}()}),[a]);var s=null;return(o>0||l>0)&&(s=c.a.createElement(L,null)),c.a.createElement(c.a.Fragment,null,c.a.createElement(M,e),c.a.createElement(j,null),c.a.createElement("div",{id:"summary_cards"},c.a.createElement(N,null),c.a.createElement(x,null)),c.a.createElement("div",{style:{maxWidth:"100%"}},c.a.createElement(w,null),s))},k=a(114),P=function(e){var t=e.component,a=Object(k.a)(e,["component"]),n=Object(r.useContext)(f).isAuthenticated;return Object(r.useEffect)((function(){localStorage.getItem("isAuthenticated")}),[n]),c.a.createElement(v.b,Object.assign({},a,{render:function(e){return n?c.a.createElement(t,e):c.a.createElement(v.a,{to:{pathname:"/simple-budget-react",state:{from:e.location}}})}}))};var U=function(){return c.a.createElement(y.a,null,c.a.createElement(O,null,c.a.createElement(p,null,c.a.createElement("div",{className:"container"},c.a.createElement(v.d,null,c.a.createElement(v.b,{exact:!0,path:"/simple-budget-react/",component:S}),c.a.createElement(P,{exact:!0,path:"/simple-budget-react/dashboard/",component:R}))))))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(U,null)),document.getElementById("root"))}},[[115,1,2]]]);
//# sourceMappingURL=main.451197e7.chunk.js.map