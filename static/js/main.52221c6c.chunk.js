(this["webpackJsonpsimple-budget-react"]=this["webpackJsonpsimple-budget-react"]||[]).push([[0],{21:function(e,t,a){e.exports=a(33)},26:function(e,t,a){},27:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(18),l=a.n(o),s=(a(26),a(27),a(4)),i=a(8),u=a(1),m=function(e,t){switch(t.type){case"ADD_TRANSACTION":return Object(u.a)(Object(u.a)({},e),{},{transactions:[].concat(Object(i.a)(e.transactions),[t.payload])});case"TO_DELETE":return Object(u.a)(Object(u.a)({},e),{},{transactions:Object(i.a)(t.payload)});case"IS_MODAL_OPEN":return Object(u.a)(Object(u.a)({},e),{},{isModalOpen:!e.isModalOpen});case"DELETE_TRANSACTIONS":return Object(u.a)(Object(u.a)({},e),{},{transactions:Object(i.a)(t.payload)});case"UPDATE_INCOME_SUB_CATEGORIES_TOTAL":return Object(u.a)(Object(u.a)({},e),{},{incomeSubCategories:Object(u.a)({},t.payload)});case"UPDATE_EXPENSE_SUB_CATEGORIES_TOTAL":return Object(u.a)(Object(u.a)({},e),{},{expenseSubCategories:Object(u.a)({},t.payload)});case"TOTAL_INCOME_EXPENSES":return Object(u.a)(Object(u.a)({},e),{},{totalIncome:t.payload.totalIncome,totalExpenses:t.payload.totalExpenses});default:return e}};n=localStorage.getItem("transactions")?JSON.parse(localStorage.getItem("transactions")):[];var E={transactions:Object(i.a)(n),totalIncome:0,totalExpenses:0,isModalOpen:!1,incomeSubCategories:{Salary:0,Others:0},expenseSubCategories:{Food:0,Shopping:0,Grocery:0,Others:0}},d=Object(r.createContext)(E),p=function(e){var t=e.children,a=Object(r.useReducer)(m,E),n=Object(s.a)(a,2),o=n[0],l=n[1];return Object(r.useEffect)((function(){var e=localStorage.getItem("transactions");e&&(E.transactions=JSON.parse(e))}),[]),Object(r.useEffect)((function(){localStorage.setItem("transactions",JSON.stringify(o.transactions))})),c.a.createElement(d.Provider,{value:{transactions:o.transactions,isModalOpen:o.isModalOpen,incomeSubCategories:o.incomeSubCategories,expenseSubCategories:o.expenseSubCategories,totalExpenses:o.totalExpenses,totalIncome:o.totalIncome,updateTotalIncomeExpenses:function(e){l({type:"TOTAL_INCOME_EXPENSES",payload:e})},updateExpenseSubCategoriesTotal:function(e){l({type:"UPDATE_EXPENSE_SUB_CATEGORIES_TOTAL",payload:e})},toggleModal:function(){l({type:"IS_MODAL_OPEN"})},addTransaction:function(e){l({type:"ADD_TRANSACTION",payload:e})},deleteTransaction:function(e){l({type:"DELETE_TRANSACTIONS",payload:e})},selectedForDeletion:function(e){l({type:"TO_DELETE",payload:e})},updateIncomeSubCategoriesTotal:function(e){l({type:"UPDATE_INCOME_SUB_CATEGORIES_TOTAL",payload:e})}}},t)},b=function(e,t){switch(t.type){case"NEW_USER":return Object(u.a)(Object(u.a)({},e),{},{users:[].concat(Object(i.a)(e.users),[t.payload])});case"VALIDATE_USER":return Object(u.a)(Object(u.a)({},e),{},{isAuthenticated:t.payload});default:return e}},f={users:[{name:"test",email:"test@test",password:"password",confirmPassword:"password"}],isAuthenticated:!1},O=Object(r.createContext)(f),g=function(e){var t=e.children,a=Object(r.useReducer)(b,f),n=Object(s.a)(a,2),o=n[0],l=n[1];return c.a.createElement(O.Provider,{value:{users:o.users,isAuthenticated:o.isAuthenticated,addUser:function(e){l({type:"NEW_USER",payload:e})},validateUser:function(e){l({type:"VALIDATE_USER",payload:e})}}},t)},y=a(19),v=a(2),C=function(e){var t=Object(r.useContext)(O),a=t.users,n=t.validateUser,o=Object(r.useState)(""),l=Object(s.a)(o,2),i=l[0],u=l[1],m=Object(r.useState)(""),E=Object(s.a)(m,2),d=E[0],p=E[1];return c.a.createElement("div",{className:"signin_signup_form"},c.a.createElement("h1",null,"Sign In"),c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),a.forEach((function(t){i===t.email&&d===t.password?(n(!0),e.history.push("/simple-budget-react/dashboard/")):(n(!1),alert("Please enter valid credentials"))}))}},c.a.createElement("input",{type:"email",placeholder:"Email",value:i,onChange:function(e){u(e.target.value)},required:!0}),c.a.createElement("input",{type:"password",placeholder:"Password",value:d,onChange:function(e){p(e.target.value)},required:!0}),c.a.createElement("button",{type:"submit"},"Sign In")))},S=function(){var e=Object(r.useContext)(d),t=e.totalIncome-e.totalExpenses;return c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},c.a.createElement("h3",{style:{marginLeft:"15px",color:"white"}},"Your Balance"),c.a.createElement("p",{style:{color:"white",fontSize:"2em"}},t))},j=function(){var e=Object(r.useContext)(d),t=e.transactions,a=e.incomeSubCategories,n=e.updateIncomeSubCategoriesTotal,o=e.totalIncome,l=Object(u.a)({},a),s=Object.keys(l),i=t.filter((function(e){return"income"===e.category.toLowerCase().trim()}));return s.forEach((function(e){var t=i.filter((function(t){return t.subCategory.toLowerCase().trim()===e.toLowerCase().trim()}));t.length>0?l[e]=t.reduce((function(e,t){return e+t.amount}),0):l[e]=0})),Object(r.useEffect)((function(){n(l)}),[t]),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"heading"},c.a.createElement("h5",null,"INCOME"),c.a.createElement("p",{style:{color:"#3fb485"}},"INR ",o)),c.a.createElement("div",{className:"content"},c.a.createElement("ul",null,c.a.createElement("li",null,"Salary ",c.a.createElement("span",{className:"amount"},a.Salary)),c.a.createElement("li",null,"Others ",c.a.createElement("span",{className:"amount"},a.Others)))))},h=function(){var e=Object(r.useContext)(d),t=e.transactions,a=e.expenseSubCategories,n=e.totalExpenses,o=e.updateExpenseSubCategoriesTotal,l=Object(u.a)({},a),s=Object.keys(l),i=t.filter((function(e){return"expense"===e.category.toLowerCase().trim()}));return s.forEach((function(e){var t=i.filter((function(t){return t.subCategory.toLowerCase().trim()===e.toLowerCase().trim()}));t.length>0?l[e]=t.reduce((function(e,t){return e+t.amount}),0):l[e]=0})),Object(r.useEffect)((function(){o(l)}),[t]),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"heading"},c.a.createElement("h5",null,"EXPENSE"),c.a.createElement("p",{style:{color:"#f84e4e"}},"INR ",n)),c.a.createElement("div",{className:"content"},c.a.createElement("ul",null,c.a.createElement("li",null,"Food ",c.a.createElement("span",{className:"amount"},a.Food)),c.a.createElement("li",null,"Shopping"," ",c.a.createElement("span",{className:"amount"},a.Shopping)),c.a.createElement("li",null,"Grocery"," ",c.a.createElement("span",{className:"amount"},a.Grocery)),c.a.createElement("li",null,"Others ",c.a.createElement("span",{className:"amount"},a.Others)))))},N=function(e){var t=e.category,a=e.subCategory,n=e.updateSubCategory,o=Object(r.useContext)(d),l=o.incomeSubCategories,s=o.expenseSubCategories,i=null;return i="income"===t.toLowerCase().trim()?Object.keys(l).map((function(e,t){return c.a.createElement("option",{key:e+t,value:e},e)})):Object.keys(s).map((function(e,t){return c.a.createElement("option",{key:e+t,value:e},e)})),c.a.createElement("select",{value:a,onChange:n,name:"category",id:"sub-category"},i)},T=function(e){var t=e.toggleTransactionModal,a=Object(r.useState)(""),n=Object(s.a)(a,2),o=n[0],l=n[1],i=Object(r.useState)(0),u=Object(s.a)(i,2),m=u[0],E=u[1],p=Object(r.useState)(0),b=Object(s.a)(p,2),f=b[0],O=b[1],g=Object(r.useState)("Income"),y=Object(s.a)(g,2),v=y[0],C=y[1],S=Object(r.useState)("Salary"),j=Object(s.a)(S,2),h=j[0],T=j[1],x=Object(r.useContext)(d).addTransaction,I=c.a.createElement(N,{category:v,subCategory:h,updateSubCategory:function(e){T(e.target.value)}});return c.a.createElement("div",{className:"card add-transaction-container"},c.a.createElement("div",{className:"overlay"}),c.a.createElement("div",{className:"add-transaction-card"},c.a.createElement("div",{className:"heading"},c.a.createElement("h4",{style:{margin:"0"}},"Add a new Transaction"),c.a.createElement("div",{className:"close-btn",onClick:function(){t()}},"X")),c.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),m<=0)alert("Please enter a valid amount");else{var a={id:Math.floor(100002*Math.random()),date:f,amount:+m,description:o,category:v,subCategory:h,toDelete:!1};x(a),t()}}},c.a.createElement("input",{value:o,onChange:function(e){l(e.target.value)},type:"text",name:"description",id:"description",placeholder:"Description",required:!0}),c.a.createElement("input",{value:m,onChange:function(e){E(e.target.value)},type:"number",name:"amount",id:"amount",required:!0}),c.a.createElement("input",{value:f,onChange:function(e){O(e.target.value)},type:"date",id:"date",required:!0}),c.a.createElement("div",{className:"category"},c.a.createElement("select",{onChange:function(e){C(e.target.value)},name:"category",id:"category"},c.a.createElement("option",{value:"Income"},"Income"),c.a.createElement("option",{value:"Expense"},"Expense"))),c.a.createElement("div",{className:"sub-category"},I),c.a.createElement("button",{type:"submit"},"Submit"))))},x=function(e){var t=e.transactionToDelete,a=Object(r.useContext)(d),n=a.transactions,o=a.deleteTransaction,l=a.toggleModal;return c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"modal-box"},c.a.createElement("p",null,"Are you sure?"),c.a.createElement("div",{className:"modal-box_buttons"},c.a.createElement("button",{onClick:function(){if(t.toDelete){var e=n.filter((function(e){return e.toDelete!==t.toDelete}));o(e),l()}}},"Yes"),c.a.createElement("button",{onClick:function(){l(),t.toDelete=!1},className:"danger"},"Cancel"))))},I=function(e){var t=e.transaction,a=Object(r.useContext)(d),n=a.transactions,o=a.selectedForDeletion,l=a.isModalOpen,s=a.toggleModal,i=null,u=n;return l&&n.forEach((function(e){e.toDelete&&(i=c.a.createElement(x,{transactionToDelete:e}))})),c.a.createElement(c.a.Fragment,null,c.a.createElement("tr",{onDoubleClick:function(e){u.forEach((function(t){e.id===t.id&&(t.toDelete=!0)})),o(u),s()}.bind(void 0,t)},c.a.createElement("td",{className:"date"},t.date),c.a.createElement("td",{className:"amount"},t.amount),c.a.createElement("td",{className:"description"},t.description),c.a.createElement("td",{className:"sub-category"},t.subCategory)),i)},A=function(){var e=Object(r.useContext)(d).transactions,t=Object(r.useState)(!1),a=Object(s.a)(t,2),n=a[0],o=a[1],l=Object(r.useState)("expense"),i=Object(s.a)(l,2),u=i[0],m=i[1],E=null,p=function(){o(!n)};n&&(E=c.a.createElement(T,{toggleTransactionModal:p}));var b=c.a.createElement("tr",null,c.a.createElement("td",{style:{textAlign:"center"},colSpan:"4"},"No transactions to display"));if(e.length>0){var f=e.filter((function(e){return"expense"===e.category.toLowerCase().trim()})),O=e.filter((function(e){return"income"===e.category.toLowerCase().trim()}));"expense"===u.toLowerCase().trim()?f.length>0&&(b=f.map((function(e){return c.a.createElement(I,{transaction:e,key:e.id})}))):O.length>0&&(b=O.map((function(e){return c.a.createElement(I,{transaction:e,key:e.id})})))}return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"transaction-summary"},c.a.createElement("div",{className:"heading"},c.a.createElement("h5",null,"TRANSACTIONS"),c.a.createElement("div",{className:"transaction-actions"},c.a.createElement("button",{className:"add-transaction-btn",onClick:p},"Add Transaction"),c.a.createElement("select",{name:"transaction-summary-category",id:"transaction-summary-category-dropdown",value:u,onChange:function(e){m(e.target.value)}},c.a.createElement("option",{value:"expense"},"Expense"),c.a.createElement("option",{value:"income"},"Income")))),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Date"),c.a.createElement("th",{style:{textAlign:"right"}},"Amount (INR)"),c.a.createElement("th",null,"Description"),c.a.createElement("th",null,"Category"))),c.a.createElement("tbody",null,b))),E)},_=function(){var e=Object(r.useContext)(d),t=e.transactions,a=e.updateTotalIncomeExpenses,n=function(){var e=t.filter((function(e){return"income"===e.category.toLowerCase()})).reduce((function(e,t){return e+t.amount}),0),n=t.filter((function(e){return"expense"===e.category.toLowerCase()})).reduce((function(e,t){return e+t.amount}),0);a({totalIncome:e,totalExpenses:n})};return Object(r.useEffect)((function(){n()}),[]),Object(r.useEffect)((function(){n()}),[t]),c.a.createElement(c.a.Fragment,null,c.a.createElement(S,null),c.a.createElement("div",{id:"summary_cards"},c.a.createElement(j,null),c.a.createElement(h,null)),c.a.createElement(A,null))};var D=function(){return c.a.createElement(y.a,null,c.a.createElement(g,null,c.a.createElement(p,null,c.a.createElement("div",{className:"container"},c.a.createElement(v.c,null,c.a.createElement(v.a,{exact:!0,path:"/simple-budget-react/",component:C}),c.a.createElement(v.a,{exact:!0,path:"/simple-budget-react/dashboard/",component:_}))))))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(D,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.52221c6c.chunk.js.map