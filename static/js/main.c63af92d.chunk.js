(this["webpackJsonpsimple-budget-react"]=this["webpackJsonpsimple-budget-react"]||[]).push([[0],{21:function(e,t,a){e.exports=a(33)},26:function(e,t,a){},27:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n,c=a(0),r=a.n(c),o=a(18),l=a.n(o),s=(a(26),a(27),a(4)),u=a(8),i=a(1),m=function(e,t){switch(t.type){case"ADD_TRANSACTION":return Object(i.a)(Object(i.a)({},e),{},{transactions:[].concat(Object(u.a)(e.transactions),[t.payload])});case"TO_DELETE":return Object(i.a)(Object(i.a)({},e),{},{transactions:Object(u.a)(t.payload)});case"IS_MODAL_OPEN":return Object(i.a)(Object(i.a)({},e),{},{isModalOpen:!e.isModalOpen});case"DELETE_TRANSACTIONS":return Object(i.a)(Object(i.a)({},e),{},{transactions:Object(u.a)(t.payload)});case"UPDATE_INCOME_SUB_CATEGORIES_TOTAL":return Object(i.a)(Object(i.a)({},e),{},{incomeSubCategories:Object(i.a)({},t.payload)});case"UPDATE_EXPENSE_SUB_CATEGORIES_TOTAL":return Object(i.a)(Object(i.a)({},e),{},{expenseSubCategories:Object(i.a)({},t.payload)});case"TOTAL_INCOME_EXPENSES":return Object(i.a)(Object(i.a)({},e),{},{totalIncome:t.payload.totalIncome,totalExpenses:t.payload.totalExpenses});default:return e}};n=localStorage.getItem("transactions")?JSON.parse(localStorage.getItem("transactions")):[];var E={transactions:Object(u.a)(n),totalIncome:0,totalExpenses:0,isModalOpen:!1,incomeSubCategories:{Salary:0,Others:0},expenseSubCategories:{Food:0,Shopping:0,Grocery:0,Others:0}},d=Object(c.createContext)(E),p=function(e){var t=e.children,a=Object(c.useReducer)(m,E),n=Object(s.a)(a,2),o=n[0],l=n[1];return Object(c.useEffect)((function(){var e=localStorage.getItem("transactions");e&&(E.transactions=JSON.parse(e))}),[]),Object(c.useEffect)((function(){localStorage.setItem("transactions",JSON.stringify(o.transactions))})),r.a.createElement(d.Provider,{value:{transactions:o.transactions,isModalOpen:o.isModalOpen,incomeSubCategories:o.incomeSubCategories,expenseSubCategories:o.expenseSubCategories,totalExpenses:o.totalExpenses,totalIncome:o.totalIncome,updateTotalIncomeExpenses:function(e){l({type:"TOTAL_INCOME_EXPENSES",payload:e})},updateExpenseSubCategoriesTotal:function(e){l({type:"UPDATE_EXPENSE_SUB_CATEGORIES_TOTAL",payload:e})},toggleModal:function(){l({type:"IS_MODAL_OPEN"})},addTransaction:function(e){l({type:"ADD_TRANSACTION",payload:e})},deleteTransaction:function(e){l({type:"DELETE_TRANSACTIONS",payload:e})},selectedForDeletion:function(e){l({type:"TO_DELETE",payload:e})},updateIncomeSubCategoriesTotal:function(e){l({type:"UPDATE_INCOME_SUB_CATEGORIES_TOTAL",payload:e})}}},t)},b=function(e,t){switch(t.type){case"NEW_USER":return Object(i.a)(Object(i.a)({},e),{},{users:[].concat(Object(u.a)(e.users),[t.payload])});case"VALIDATE_USER":return Object(i.a)(Object(i.a)({},e),{},{isAuthenticated:t.payload});default:return e}},f={users:[{name:"test",email:"test@test",password:"password",confirmPassword:"password"}],isAuthenticated:!1},O=Object(c.createContext)(f),g=function(e){var t=e.children,a=Object(c.useReducer)(b,f),n=Object(s.a)(a,2),o=n[0],l=n[1];return r.a.createElement(O.Provider,{value:{users:o.users,isAuthenticated:o.isAuthenticated,addUser:function(e){l({type:"NEW_USER",payload:e})},validateUser:function(e){l({type:"VALIDATE_USER",payload:e})}}},t)},y=a(19),v=a(2),S=function(e){var t=Object(c.useContext)(O),a=t.users,n=t.validateUser,o=Object(c.useState)(""),l=Object(s.a)(o,2),u=l[0],i=l[1],m=Object(c.useState)(""),E=Object(s.a)(m,2),d=E[0],p=E[1];return r.a.createElement("div",{className:"signin_signup_form"},r.a.createElement("h1",null,"Sign In"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),a.forEach((function(t){u===t.email&&d===t.password?(n(!0),e.history.push("/simple-budget-react/dashboard/")):(n(!1),alert("Please enter valid credentials"))}))}},r.a.createElement("input",{type:"email",placeholder:"Email",value:u,onChange:function(e){i(e.target.value)},required:!0}),r.a.createElement("input",{type:"password",placeholder:"Password",value:d,onChange:function(e){p(e.target.value)},required:!0}),r.a.createElement("button",{type:"submit"},"Sign In")))},C=function(){var e=Object(c.useContext)(d),t=e.totalIncome-e.totalExpenses;return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},r.a.createElement("h3",{style:{marginLeft:"15px",color:"white"}},"Your Balance"),r.a.createElement("p",{style:{color:"white",fontSize:"2em"}},t))},j=function(){var e=Object(c.useContext)(d),t=e.transactions,a=e.incomeSubCategories,n=e.updateIncomeSubCategoriesTotal,o=e.totalIncome,l=Object(i.a)({},a),s=Object.keys(l),u=t.filter((function(e){return"income"===e.category.toLowerCase().trim()}));return s.forEach((function(e){var t=u.filter((function(t){return t.subCategory.toLowerCase().trim()===e.toLowerCase().trim()}));t.length>0?l[e]=t.reduce((function(e,t){return e+t.amount}),0):l[e]=0})),Object(c.useEffect)((function(){n(l)}),[t]),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"heading"},r.a.createElement("h5",null,"INCOME"),r.a.createElement("p",{style:{color:"#3fb485"}},"INR ",o)),r.a.createElement("div",{className:"content"},r.a.createElement("ul",null,r.a.createElement("li",null,"Salary ",r.a.createElement("span",{className:"amount"},a.Salary)),r.a.createElement("li",null,"Others ",r.a.createElement("span",{className:"amount"},a.Others)))))},h=function(){var e=Object(c.useContext)(d),t=e.transactions,a=e.expenseSubCategories,n=e.totalExpenses,o=e.updateExpenseSubCategoriesTotal,l=Object(i.a)({},a),s=Object.keys(l),u=t.filter((function(e){return"expense"===e.category.toLowerCase().trim()}));return s.forEach((function(e){var t=u.filter((function(t){return t.subCategory.toLowerCase().trim()===e.toLowerCase().trim()}));t.length>0?l[e]=t.reduce((function(e,t){return e+t.amount}),0):l[e]=0})),Object(c.useEffect)((function(){o(l)}),[t]),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"heading"},r.a.createElement("h5",null,"EXPENSE"),r.a.createElement("p",{style:{color:"#f84e4e"}},"INR ",n)),r.a.createElement("div",{className:"content"},r.a.createElement("ul",null,r.a.createElement("li",null,"Food ",r.a.createElement("span",{className:"amount"},a.Food)),r.a.createElement("li",null,"Shopping"," ",r.a.createElement("span",{className:"amount"},a.Shopping)),r.a.createElement("li",null,"Grocery"," ",r.a.createElement("span",{className:"amount"},a.Grocery)),r.a.createElement("li",null,"Others ",r.a.createElement("span",{className:"amount"},a.Others)))))},N=function(e){var t=e.category,a=e.subCategory,n=e.updateSubCategory,o=Object(c.useContext)(d),l=o.incomeSubCategories,s=o.expenseSubCategories,u=null;return u="income"===t.toLowerCase().trim()?Object.keys(l).map((function(e,t){return r.a.createElement("option",{key:e+t,value:e},e)})):Object.keys(s).map((function(e,t){return r.a.createElement("option",{key:e+t,value:e},e)})),r.a.createElement("select",{value:a,onChange:n,name:"category",id:"sub-category"},u)},T=function(e){var t=e.toggleTransactionModal,a=Object(c.useState)(""),n=Object(s.a)(a,2),o=n[0],l=n[1],u=Object(c.useState)(0),i=Object(s.a)(u,2),m=i[0],E=i[1],p=Object(c.useState)(0),b=Object(s.a)(p,2),f=b[0],O=b[1],g=Object(c.useState)("Income"),y=Object(s.a)(g,2),v=y[0],S=y[1],C=Object(c.useState)("Food"),j=Object(s.a)(C,2),h=j[0],T=j[1],x=Object(c.useContext)(d).addTransaction,I=r.a.createElement(N,{category:v,subCategory:h,updateSubCategory:function(e){T(e.target.value)}});return r.a.createElement("div",{className:"card add-transaction-container"},r.a.createElement("div",{className:"overlay"}),r.a.createElement("div",{className:"add-transaction-card"},r.a.createElement("div",{className:"heading"},r.a.createElement("h4",{style:{margin:"0"}},"Add a new Transaction"),r.a.createElement("div",{className:"close-btn",onClick:function(){t()}},"X")),r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),m<=0)alert("Please enter a valid amount");else{var a={id:Math.floor(100002*Math.random()),date:f,amount:+m,description:o,category:v,subCategory:h,toDelete:!1};x(a),t()}}},r.a.createElement("input",{value:o,onChange:function(e){l(e.target.value)},type:"text",name:"description",id:"description",placeholder:"Description",required:!0}),r.a.createElement("input",{value:m,onChange:function(e){E(e.target.value)},type:"number",name:"amount",id:"amount",required:!0}),r.a.createElement("input",{value:f,onChange:function(e){O(e.target.value)},type:"date",id:"date",required:!0}),r.a.createElement("div",{className:"category"},r.a.createElement("select",{onChange:function(e){S(e.target.value)},name:"category",id:"category"},r.a.createElement("option",{value:"Income"},"Income"),r.a.createElement("option",{value:"Expense"},"Expense"))),r.a.createElement("div",{className:"sub-category"},I),r.a.createElement("button",{type:"submit"},"Submit"))))},x=function(e){var t=e.transactionToDelete,a=Object(c.useContext)(d),n=a.transactions,o=a.deleteTransaction,l=a.toggleModal;return r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-box"},r.a.createElement("p",null,"Are you sure?"),r.a.createElement("div",{className:"modal-box_buttons"},r.a.createElement("button",{onClick:function(){if(t.toDelete){var e=n.filter((function(e){return e.toDelete!==t.toDelete}));o(e),l()}}},"Yes"),r.a.createElement("button",{onClick:function(){l(),t.toDelete=!1},className:"danger"},"Cancel"))))},I=function(e){var t=e.transaction,a=Object(c.useContext)(d),n=a.transactions,o=a.selectedForDeletion,l=a.isModalOpen,s=a.toggleModal,u=null,i=n;return l&&n.forEach((function(e){e.toDelete&&(u=r.a.createElement(x,{transactionToDelete:e}))})),r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{onDoubleClick:function(e){i.forEach((function(t){e.id===t.id&&(t.toDelete=!0)})),o(i),s()}.bind(void 0,t)},r.a.createElement("td",{className:"date"},t.date),r.a.createElement("td",{className:"amount"},t.amount),r.a.createElement("td",{className:"description"},t.description),r.a.createElement("td",{className:"sub-category"},t.subCategory)),u)},A=function(){var e=Object(c.useContext)(d).transactions,t=Object(c.useState)(!1),a=Object(s.a)(t,2),n=a[0],o=a[1],l=null,u=function(){o(!n)};n&&(l=r.a.createElement(T,{toggleTransactionModal:u}));var i=r.a.createElement("tr",null,r.a.createElement("td",{style:{textAlign:"center"},colSpan:"4"},"No transactions to display"));return e.length>0&&(i=e.map((function(e){return r.a.createElement(I,{transaction:e,key:e.id})}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"transaction-summary"},r.a.createElement("div",{className:"heading"},r.a.createElement("h5",null,"TRANSACTIONS"),r.a.createElement("div",null,r.a.createElement("button",{className:"add-transaction-btn",onClick:u},"Add Transaction"),r.a.createElement("select",{name:"transaction-summary-category",id:"transaction-summary-category-dropdown"},r.a.createElement("option",{value:"expense"},"Expense"),r.a.createElement("option",{value:"income"},"Income")))),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",{style:{textAlign:"right"}},"Amount (INR)"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Category"))),i)),l)},_=function(){var e=Object(c.useContext)(d),t=e.transactions,a=e.updateTotalIncomeExpenses,n=function(){var e=t.filter((function(e){return"income"===e.category.toLowerCase()})).reduce((function(e,t){return e+t.amount}),0),n=t.filter((function(e){return"expense"===e.category.toLowerCase()})).reduce((function(e,t){return e+t.amount}),0);a({totalIncome:e,totalExpenses:n})};return Object(c.useEffect)((function(){n()}),[]),Object(c.useEffect)((function(){n()}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement("div",{id:"summary_cards"},r.a.createElement(j,null),r.a.createElement(h,null)),r.a.createElement(A,null))};var D=function(){return r.a.createElement(y.a,null,r.a.createElement(g,null,r.a.createElement(p,null,r.a.createElement("div",{className:"container"},r.a.createElement(v.c,null,r.a.createElement(v.a,{exact:!0,path:"/simple-budget-react/",component:S}),r.a.createElement(v.a,{exact:!0,path:"/simple-budget-react/dashboard/",component:_}))))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.c63af92d.chunk.js.map